1 switch 是交换机
2 hub是集线器
3 （1）它们都是网络互连设备。
（2）集线器（HUB）作为物理层的网络连接设备，可以对信号进行放大和再生，但是，集线器只能进行原始比特流的传送，
不可能对数据流量进行任何隔离或过滤，因此由集线器连接的网段属于同一个冲突域；共享式集线器采用广播方式，
每一个端口上的计算机都可以收到集线上的广播数据，两个端口上的站点同时发送数据就会产生冲突。
（3）交换机是数据链路层的互连设备，具有依据第二层地址进行数据帧过滤的能力。由交换机的不同端口所连的网段属于不同的冲突域；
交换机是并行工作的，它可以同时支持多个信源和信宿端口之间的通信，从而提高大大了数据转发的速度。


 首先说HUB,也就是集线器。它的作用可以简单的理解为将一些机器连接起来组成一个局域网。
 而交换机（又名交换式集线器）作用与集线器大体相同。但是两者在性能上有区别：集线器采用的式共享带宽的工作方式，
 而交换机是独享带宽。这样在机器很多或数据量很大时，两者将会有比较明显的。而路由器与以上两者有明显区别，
 它的作用在于连接不同的网段并且找到网络中数据传输最合适的路径，可以说一般情况下个人用户需求不大。路由器是产生于交换机之后，
 就像交换机产生于集线器之后，所以路由器与交换机也有一定联系，并不是完全独立的两种设备。路由器主要克服了交换机不能路由转发数据包的不足。
 
 
  传统的交换机只能分割冲突域，不能分割广播域；而路由器可以分割广播域   
     由交换机连接的网段仍属于同一个广播域，广播数据包会在交换机连接的所有网段上传播，
     在某些情况下会导致通信拥挤和安全漏洞。连接到路由器上的网段会被分配成不同的广播域，广播数据不会穿过路由器。
     虽然第三层以上交换机具有VLAN功能，也可以分割广播域，但是各子广播域之间是不能通信交流的，它们之间的交流仍然需要路由器。
     
   以这样理解：广播域可以跨网段，而冲突域只是发生的同一个网段的。

冲突域：在同一个冲突域中的每一个节点都能收到所有被发送的帧;
广播域：网络中能接收任一设备发出的广播帧的所有设备的集合;

冲突域：基于第一层（物理层）; 
广播域：基于第二层（数据链路层）;


如果一个数据报文的目标地址是这个网段的广播地址或者目标计算机的MAC地址是FF-FF-FF-FF-FF-FF，
那么这个数据报文就会被这个网段 的所有计算机接收并响应，这就叫做广播。通常广播用来进行ARP寻址等用途，
但是广播域无法控制也会对网络健康带来严重影响，主要是带宽和网络延迟。
这种 广播所能覆盖的范围就叫做广播域了，二层的交换机是转发广播的，所以不能分割广播域，
而路由器一般不转发广播，所以可以分割或定义广播域。

集线器是工作在物理层的
交换机是工作在数据链路层的

路由器是工作在ip层的 也就是网络层的


所以说，在以太网络世界当中，如果您想要提升原有的 fast ethernet 到 gigabit ethernet 的话， 
除了网络卡 (Network Internet Card, NIC) 需要升级之外，主机与主机之间的网络线，
以及连接主机线路的集线器/交换器等，都必须要提升到可以支持 gigabit 速度等级的设备才行喔


网卡并不是独立的自治单元，因为网卡本身不带电源而是必须使用所插入的计算机的电源，并受该计算机的控制。
因此网卡可看成为一个半自治的单元。当网卡收到一个有差错的帧时，它就将这个帧丢弃而不必通知它所插入的计算机。
当网卡收到一个正确的帧时，
它就使用中断来通知该计算机并交付给协议栈中的网络层。当计算机要发送一个IP数据包时，它就由协议栈向下交给网卡组装成帧后发送到局域网。



CSMA/CD是Carrier Sense Multiple Access with Collision Detection 的缩写，
可译为“载波侦听多路访问/冲突检测”，或“带有冲突检测的载波侦听多路访问”。所谓载波侦听（carrier sense），
意思是网络上各个工作站在发送数据前都要侦听总线上有没有数据传输。若有数据传输 （称总线为忙），
则不发送数据；若无数据传输（称总线为空），立即发送准备好的数据。
所谓多路访问（multiple access)意思是网络上所有工作站收发数据共同使用同一条总线，
且发送数据是广播式的。所谓冲突（collision），意思是，若网上有两个或两个以上工作站同时发送数据，
在总线上就会产生信号的混合，两个工作站都同时发送数据，在总线上就会产生信号的混合，两个工作站都辨别不出真正的数据是什么。
这种情况称数据冲突又称碰撞。为了减少冲突发生后的影响。
工作站在发送数据过程中还要不停地检测自己发送的数据，有没有在传输过程中与其它工作站的数据发生冲突，这就是冲突检测（collision detected）。


有人将CSMA/CD的工作过程形象的比喻成很多人在一间黑屋子中举行讨论会，
参加会议的人都是只能听到其他人的声音。每个人在说话前必须先倾听，只有等会场安静下来后，
他才能够发言。人们将发言前监听以确定是否已有人在发言的动作称为"载波监听"；
将在会场安静的情况下每人都有平等机会讲话成为“多路访问”；如果有两人或两人以上同时说话，
大家就无法听清其中任何一人的发言，这种情况称为发生“冲突”。发言人在发言过程中要及时发现是否发生冲突，
这个动作称为“冲突检测”。如果发言人发现冲突已经发生，这时他需要停止讲话，
然后随机后退延迟，再次重复上述过程，直至讲话成功。如果失败次数太多，他也许就放弃这次发言的想法。通常尝试16次后放弃。



不是那个意思10Mbps/100Mbps是自适应切换，如果网速达到100Mbps,就切换到100Mbps。
网线有八根线，只用1、2、3、6. 1、2发送，3、6接收。4、5、7、8为千兆网速提供的。
但是，我们实际网速连10Mbps都达不到。

全双工是两遍都可以同时发送 同时接收
半双攻同时只可以有一个发送,一个接收

ip与mac的对应 就需要arp地址转换协议


linux中arp -n 可以看到Ip地址  mac地址 等等地址

arp表是在内存中存在的

ipv4 32位  点分10进制

c类地址中  前3个 是网段地址  最后一个主机地址

• 在同一个网域之内，每一部主机都可以透过 MAC 讯框的格式传递资料， 
并透过 ARP 协议与广播封包 (broadcast) 取得 MAC 与 IP 的对应后，直接利用 MAC 讯框传递数据。


在上表中，可能您会觉得很奇怪，咦！那个 127.xx.xx.xx 怎么不见了？！
他应该也是 A Class 的一段吧？！没错，是不见了， 因为这个网段被拿去给操作系统做为内部循环网络 ( loopback ) 之用了！
在各个操作系统当中，不管该主机的硬件有没有网络卡， 为了让作业确认自己的网络没有问题，所以将 127.xx.xx.xx 
这个 A Class 的网段拿到操作系统当中，来做为内部的回路测试！所以啦，这个 127.0.0.1 就不可以用来做为其它网络卡的网络网域之设定喔。

全部为 0 以及全部为 1 的时后该 IP 是不可以使用的，因为 Host_ID 全部为 0 的时后，表示 IP 是该网段的 Network ，
至于全部为 1 的时后就表示该网段最后一个 IP ，也称为 Broadcast

一个网段中主机id为0的时候 表示的是net网段地址
id全部为1是表示这个网段的广播地址

当初设计的时候为了防止ip地址不足   就把这个ip地址分为了公有ip和私有ip
公有ip是192.x.x.x
私有
路由中的nat 可以将私有Ip伪装成公有ip



现在我们知道 IP 这个数据封包 (packet) 是需要放置在 MAC 讯框里面的，所以当然不能比 MAC 所能容许的最大数据量还大！
但是 IP 封包其实可以到 65535 bytes 那么大的吶！ 那么 IP 封包除了数据之外，他的表头数据 (head) 是长怎样呢？
在图三的 MAC 讯框表头里面最重要的莫过于那个网络卡硬件地址， 那么在 IP 表头里面当然就以来源与目标的 IP 地址为最重要啰！
除此之外， IP 表头里面还含有哪些重要数据呢？如底下所示：(下图第一行为每个字段的 bit 数)


你只要知道 IP 表头里面还含有： TTL, Protocol, 来源 IP 与目标 IP 也就够了


每部主机都有自己的路由表』 还有arp表

但在本案例中， PC01 与 PC11 并非同一网域，因此 PC01 会分析路由表当中是否有相符合的路由设定，
如果没有的话，就直接将该 IP 封包送到预设路由器 (default gateway) 上头去，
在本案例当中 default gateway 则是 Server A 这一部。


我们知道 IP 与路由仅能将数据封包传送到正确的目标而已， 但是这个目的地是否真的能够收下来这个封包？那可就不一定了
。要确认该数据能否正确的被目的端所接收， 就必须要在数据封包上面多加一些参数来判断才行。



所以说，IP 除了表头之外的 Data 内容其实就是 TCP 封包的表头与内容；而 MAC 的 Data 内容，
就是一个完整的 IP 封包数据！这也是我们上头提到的，最终还是得以 MAC 能够支持的最大容许容量， 
才能够决定 IP 与 TCP 封包是否需要再进行分段的工作。那么既然 MAC 与 IP 都有表头数据， 
想当然尔，TCP 也有表头数据来记录该封包的相关信息啰？？没错啦～ TCP 封包的表头是长这个样子的：


说穿了，我们可以使用信封带来说明，实际的内容 (data) 是在信封袋当中的， 而信封的外面的信息就是各个封包的表头数据啦！

其中比较常见到的应该是 ACK/SYN/FIN 等

tcp的三次握手中  最重要的三个ack 接收  syn同步  fin完成


ICMP 的全称是『 Internet Control Message Protocol, 因特网讯息控制协议 』。
基本上，ICMP 是一个错误侦测与回报的机制，最大的功能就是可以确保我们网络的联机状态与联机的正确性！

虚拟机中的桥接  就像是一台虚拟出来的真实的局域网机器
而nat模式其实是共享的宿主机器的ip地址 如果要发送消息  就要进行地址转换

1、在浏览器中输入www.qq.com域名，浏览器首先会在自己的缓存中查找是否有该域名对应的IP地址（若曾经访问过该域名且没有清空缓存便存在）。

2、当浏览器缓存中无域名对应IP时操作系统会先检查自己本地的hosts文件是否有这个网址映射关系，如果有，就先调用这个IP地址映射，完成域名解析。 

3、如果hosts里没有这个域名的映射，则查找本地DNS解析器缓存，是否有这个网址映射关系，如果有，直接返回，完成域名解析。 

4、如果hosts与本地DNS解析 器缓存都没有相应的网址映射关系，首先会找TCP/ip参数中设置的首选DNS服务器，在此我们叫它本地DNS服务器，此服务器收到查询时，如果要查询的 域名，包含在本地配置区域资源中，则返回解析结果给客户机，完成域名解析，此解析具有权威性。 

5、如果要查询的域名，不由本地DNS服务器区域解析，但该服务器已缓存了此网址映射关系，则调用这个IP地址映射，完成域名解析，此解析不具有权威性。 

6、如果本地DNS服务器本地区域文 件与缓存解析都失效，则根据本地DNS服务器的设置（是否设置转发器）进行查询，如果未用转发模式，本地DNS就把请求发至13台根DNS，根DNS服务 器收到请求后会判断这个域名(.com)是谁来授权管理，并会返回一个负责该顶级域名服务器的一个IP。本地DNS服务器收到IP信息后，将会联系负 责.com域的这台服务器。这台负责.com域的服务器收到请求后，如果自己无法解析，它就会找一个管理.com域的下一级DNS服务器地址 (qq.com)给本地DNS服务器。当本地DNS服务器收到这个地址后，就会找qq.com域服务器，重复上面的动作，进行查询，直至找到 www.qq.com主机。 

7、如果用的是转发模式，此DNS服 务器就会把请求转发至上一级DNS服务器，由上一级服务器进行解析，上一级服务器如果不能解析，或找根DNS或把转请求转至上上级，以此循环。不管是本地 DNS服务器用是是转发，还是根提示，最后都是把结果返回给本地DNS服务器，由此DNS服务器再返回给客户机。 

    从客户端到本地DNS服务器是属于递归查询，而DNS服务器之间就是的交互查询就是迭代查询。
    
    
    
    
